<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äºŒé€²ä½æ‹¼å­—æŒ‘æˆ° - SITCON & HOC ç‰ˆ</title>
    <style>
        :root {
            --primary: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --accent: #f39c12;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: #f4f7f6; display: flex; flex-direction: column; align-items: center; padding: 10px; margin: 0; }
        .container { background: white; padding: 1.5rem; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 95%; width: 800px; margin-top: 20px; }
        
        h1 { color: var(--dark); margin-bottom: 5px; text-align: center; font-size: 1.5rem; }
        .instruction { color: #666; text-align: center; margin-bottom: 20px; font-size: 0.9rem; }

        /* éŠæˆ²å€åŸŸèª¿æ•´ç‚ºå¯æ›è¡Œ */
        .game-area { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0; }
        .char-card { display: flex; flex-direction: column; align-items: center; background: #fff; border: 2px solid #eee; padding: 10px; border-radius: 10px; min-width: 60px; }
        
        .bit-row { display: flex; flex-direction: column; gap: 4px; }
        .bit-container { display: flex; flex-direction: column; align-items: center; }
        
        .bit-btn {
            width: 40px; height: 40px; border: none; border-radius: 6px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer;
            transition: all 0.15s; background: #ecf0f1; color: #bdc3c7;
        }
        .bit-btn.active { background: var(--dark); color: white; transform: scale(1.05); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .bit-weight { font-size: 0.65rem; color: #95a5a6; margin-bottom: 2px; }

        .letter-display {
            margin-top: 10px; font-size: 1.8rem; font-weight: 800;
            width: 45px; height: 45px; display: flex; align-items: center;
            justify-content: center; border-bottom: 4px solid #ddd;
        }
        .letter-display.correct { color: var(--success); border-bottom-color: var(--success); }
        .letter-display.wrong { color: var(--danger); border-bottom-color: var(--danger); }

        .controls { text-align: center; margin-top: 20px; }
        .btn-next { padding: 12px 35px; font-size: 1rem; background: var(--accent); color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .btn-next:hover { filter: brightness(1.1); }
    </style>
</head>
<body>

    <h1>ğŸ”¢ Binary Spelling Game</h1>
    <p class="instruction">é»æ“Šæ–¹å¡Šåˆ‡æ› 0/1 (A=1, B=2 ... Z=26)</p>

    <div class="container">
        <h2 style="text-align: center; margin-top: 0;">ç›®æ¨™ï¼š<span id="target-word" style="color: var(--primary); letter-spacing: 3px;">---</span></h2>
        
        <div id="game-board" class="game-area"></div>

        <div class="controls">
            <button class="btn-next" onclick="loadNewWord()">æ›´æ›å–®å­— (Next)</button>
        </div>
    </div>

    <script>
        // åŠ å…¥äº† SITCON å’Œ HOC
        const wordBank = ["SITCON", "HOC", "CODE", "OPEN", "HEART", "TECH", "DATA"];
        let currentWord = "";
        const weights = [16, 8, 4, 2, 1];

        function loadNewWord() {
            // éš¨æ©Ÿé¸ä¸€å€‹è·Ÿä¸Šæ¬¡ä¸ä¸€æ¨£çš„å­—
            let nextWord;
            do {
                nextWord = wordBank[Math.floor(Math.random() * wordBank.length)];
            } while (nextWord === currentWord);
            
            currentWord = nextWord;
            document.getElementById('target-word').innerText = currentWord;
            renderBoard();
        }

        function renderBoard() {
            const board = document.getElementById('game-board');
            board.innerHTML = '';

            currentWord.split('').forEach((char, charIdx) => {
                const targetVal = char.charCodeAt(0) - 64;
                
                const card = document.createElement('div');
                card.className = 'char-card';

                const bitRow = document.createElement('div');
                bitRow.className = 'bit-row';

                for (let i = 0; i < 5; i++) {
                    const weightWrapper = document.createElement('div');
                    weightWrapper.className = 'bit-container';
                    
                    const weightHint = document.createElement('div');
                    weightHint.className = 'bit-weight';
                    weightHint.innerText = weights[i];

                    const btn = document.createElement('button');
                    btn.className = 'bit-btn';
                    btn.innerText = '0';
                    btn.dataset.weight = weights[i];
                    btn.onclick = function() {
                        this.innerText = this.innerText === '0' ? '1' : '0';
                        this.classList.toggle('active');
                        calculateChar(card, targetVal);
                    };

                    weightWrapper.appendChild(weightHint);
                    weightWrapper.appendChild(btn);
                    bitRow.appendChild(weightWrapper);
                }

                const display = document.createElement('div');
                display.className = 'letter-display';
                display.innerText = '?';

                card.appendChild(bitRow);
                card.appendChild(display);
                board.appendChild(card);
            });
        }

        function calculateChar(card, targetVal) {
            const btns = card.querySelectorAll('.bit-btn');
            const display = card.querySelector('.letter-display');
            let sum = 0;

            btns.forEach(btn => {
                if (btn.classList.contains('active')) {
                    sum += parseInt(btn.dataset.weight);
                }
            });

            if (sum === 0) {
                display.innerText = '?';
                display.className = 'letter-display';
            } else if (sum > 26) {
                display.innerText = 'Ã—';
                display.className = 'letter-display wrong';
            } else {
                const char = String.fromCharCode(64 + sum);
                display.innerText = char;
                display.className = 'letter-display ' + (sum === targetVal ? 'correct' : 'wrong');
            }
        }

        loadNewWord();
    </script>
</body>
</html>
