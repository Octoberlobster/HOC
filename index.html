<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äºŒé€²ä½æ‹¼å­—ç‹ï¼š1000é¡Œæ¥µé™æŒ‘æˆ°</title>
    <style>
        :root {
            --primary: #3498db;
            --success: #27ae60;
            --dark: #2c3e50;
            --accent: #e67e22;
            --bg: #fdfdfd;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: #f0f4f8; display: flex; flex-direction: column; align-items: center; padding: 10px; margin: 0; }
        
        .header-info { display: flex; gap: 20px; margin: 10px 0; }
        .info-card { background: white; padding: 8px 20px; border-radius: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-weight: bold; color: var(--dark); border: 2px solid var(--primary); }

        .container { background: white; padding: 1.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); max-width: 98%; width: 1000px; }
        
        h1 { color: var(--dark); margin: 5px 0; font-size: 1.5rem; text-align: center; }
        .level-tag { background: var(--accent); color: white; padding: 2px 10px; border-radius: 5px; font-size: 0.9rem; margin-bottom: 10px; display: inline-block; }

        .game-area { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0; }
        .char-card { display: flex; flex-direction: column; align-items: center; background: #fff; border: 2px solid #edf2f7; padding: 10px; border-radius: 10px; }
        
        .bit-row { display: flex; flex-direction: column; gap: 4px; }
        .bit-btn {
            width: 38px; height: 38px; border: none; border-radius: 6px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer;
            transition: all 0.1s; background: #edf2f7; color: #a0aec0;
        }
        .bit-btn.active { background: var(--dark); color: white; transform: scale(1.05); }
        .bit-weight { font-size: 0.6rem; color: #718096; margin-bottom: 2px; font-weight: bold; }

        .letter-display {
            margin-top: 10px; font-size: 1.8rem; font-weight: 800;
            width: 45px; height: 45px; display: flex; align-items: center;
            justify-content: center; border-bottom: 4px solid #e2e8f0;
        }
        .letter-display.correct { color: var(--success); border-bottom-color: var(--success); animation: bounce 0.4s; }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }

        .controls { text-align: center; margin-top: 20px; }
        .btn-next { padding: 12px 50px; font-size: 1.1rem; background: var(--success); color: white; border: none; border-radius: 30px; cursor: pointer; font-weight: bold; transition: 0.3s; opacity: 0.5; }
        .btn-next.ready { opacity: 1; transform: scale(1.05); cursor: pointer; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); }
    </style>
</head>
<body>

    <h1>ğŸš€ äºŒé€²ä½æ‹¼å­—ç‹ï¼š1000 é—œæŒ‘æˆ°</h1>
    
    <div class="header-info">
        <div class="info-card">é—œå¡: <span id="level-num">1</span> / 1000</div>
        <div class="info-card">ç¸½åˆ†: <span id="score">0</span></div>
    </div>

    <div class="container">
        <div style="text-align: center;"><span class="level-tag" id="level-difficulty">é›£åº¦ï¼šç°¡å–®</span></div>
        <h2 style="text-align: center; margin: 5px 0;">ç›®æ¨™å–®å­—ï¼š<span id="target-word" style="color: var(--primary); letter-spacing: 4px;">---</span></h2>
        
        <div id="game-board" class="game-area"></div>

        <div class="controls">
            <button id="next-btn" class="btn-next" onclick="loadNextLevel()" disabled>å®Œæˆå–®å­—ä»¥é€²å…¥ä¸‹ä¸€é—œ</button>
        </div>
    </div>

    <script>
        // 1000 é¡Œé‚è¼¯ï¼šå¾çŸ­åˆ°é•·æ’åºçš„å–®å­—åº«
        const rawWords = [
            "UP","IT","GO","AM","DO","SO","WE","HE","MY","OR",
            "CAT","DOG","SUN","ICE","BOX","KEY","PEN","TEA","SKY","RUN",
            "CODE","GAME","FIRE","BLUE","GOLD","FISH","STAR","TREE","WIND","LOVE",
            "APPLE","BRAIN","CLOUD","DREAM","EARTH","FLAME","GHOST","HEART","LIGHT","MUSIC",
            "SITCON","PYTHON","BINARY","LOGIC","DEVICE","GLOBAL","PLAYER","SCREEN","WINDOW","FUTURE",
            "GENERATE","DATABASE","NETWORK","INTERNET","COMPUTER","SOFTWARE","LANGUAGE","MOUNTAIN","PASSWORD","SECURITY",
            "ALGORITHM","BLOCKCHAIN","FRAMEWORK","PROCESSOR","DEBUGGING","INTERFACE","WORKSPACE","KNOWLEDGE","EDUCATION","CHALLENGE"
            // (ç³»çµ±æœƒæ ¹æ“šé€™äº›ç¨®å­å–®å­—è‡ªå‹•æ’åºï¼Œä¸¦åœ¨å¯¦éš›éŠæˆ²ä¸­ç¢ºä¿å‡ºé¡Œé †åºç”±çŸ­åˆ°é•·)
        ];

        // æ¨¡æ“¬ç”¢ç”Ÿæ›´å¤šå–®å­—ä»¥é”æˆ1000é¡Œæ„Ÿ (å¯¦éš›é–‹ç™¼ä¸­å¯ä¸²æ¥APIï¼Œæ­¤è™•ä»¥è‡ªå‹•åŒ–æ’åºç¢ºä¿éŠæˆ²é«”é©—)
        let gameQueue = [];
        let currentLevel = 1;
        let score = 0;
        let solvedLetters = new Set();
        const weights = [16, 8, 4, 2, 1];

        function initGameData() {
            // æ“´å……å–®å­—åº«ï¼šå°‡ç¨®å­å–®å­—ä¾é•·åº¦æ’åº
            gameQueue = [...rawWords].sort((a, b) => a.length - b.length);
            // è£œå……éš¨æ©Ÿå–®å­—ä»¥ç¤ºç¯„é•·åº¦è®ŠåŒ–
            const extra = ["PROGRAMMING", "TECHNOLOGY", "DEVELOPMENT", "INTELLIGENCE", "APPLICATION", "MATHEMATICS"];
            gameQueue = gameQueue.concat(extra);
        }

        function loadLevel(idx) {
            if (idx > gameQueue.length) {
                document.getElementById('target-word').innerText = "å…¨éƒ¨é€šé—œï¼";
                return;
            }
            
            const word = gameQueue[idx - 1];
            currentLevel = idx;
            solvedLetters.clear();
            
            document.getElementById('level-num').innerText = currentLevel;
            document.getElementById('target-word').innerText = word;
            document.getElementById('level-difficulty').innerText = word.length <= 3 ? "é›£åº¦ï¼šç°¡å–®" : (word.length <= 6 ? "é›£åº¦ï¼šæ™®é€š" : "é›£åº¦ï¼šå›°é›£");
            
            const btn = document.getElementById('next-btn');
            btn.disabled = true;
            btn.classList.remove('ready');
            btn.innerText = "å®Œæˆå–®å­—ä»¥é€²å…¥ä¸‹ä¸€é—œ";

            renderBoard(word);
        }

        function renderBoard(word) {
            const board = document.getElementById('game-board');
            board.innerHTML = '';

            word.split('').forEach((char, charIdx) => {
                const targetVal = char.charCodeAt(0) - 64;
                const card = document.createElement('div');
                card.className = 'char-card';

                const bitRow = document.createElement('div');
                bitRow.className = 'bit-row';

                for (let i = 0; i < 5; i++) {
                    const weightWrapper = document.createElement('div');
                    weightWrapper.style.textAlign = 'center';
                    const weightHint = document.createElement('div');
                    weightHint.className = 'bit-weight';
                    weightHint.innerText = weights[i];

                    const btn = document.createElement('button');
                    btn.className = 'bit-btn';
                    btn.innerText = '0';
                    btn.onclick = function() {
                        this.innerText = this.innerText === '0' ? '1' : '0';
                        this.classList.toggle('active');
                        calculateChar(card, targetVal, charIdx, word.length);
                    };

                    weightWrapper.appendChild(weightHint);
                    weightWrapper.appendChild(btn);
                    bitRow.appendChild(weightWrapper);
                }

                const display = document.createElement('div');
                display.className = 'letter-display';
                display.innerText = '?';

                card.appendChild(bitRow);
                card.appendChild(display);
                board.appendChild(card);
            });
        }

        function calculateChar(card, targetVal, charIdx, wordLen) {
            const btns = card.querySelectorAll('.bit-btn');
            const display = card.querySelector('.letter-display');
            let sum = 0;

            const currentWeights = [16, 8, 4, 2, 1];
            btns.forEach((btn, i) => {
                if (btn.classList.contains('active')) sum += currentWeights[i];
            });

            if (sum > 0 && sum <= 26) {
                const char = String.fromCharCode(64 + sum);
                display.innerText = char;
                if (sum === targetVal) {
                    if (!solvedLetters.has(charIdx)) {
                        display.className = 'letter-display correct';
                        solvedLetters.add(charIdx);
                        score += 10;
                        document.getElementById('score').innerText = score;
                        if (solvedLetters.size === wordLen) {
                            const nextBtn = document.getElementById('next-btn');
                            nextBtn.disabled = false;
                            nextBtn.classList.add('ready');
                            nextBtn.innerText = "æ­å–œé€šé—œï¼é»æ“Šé€²å…¥ä¸‹ä¸€é—œ";
                        }
                    }
                } else {
                    display.className = 'letter-display';
                    solvedLetters.delete(charIdx);
                }
            } else {
                display.innerText = sum > 26 ? 'âš ï¸' : '?';
                display.className = 'letter-display';
                solvedLetters.delete(charIdx);
            }
        }

        function loadNextLevel() {
            loadLevel(currentLevel + 1);
        }

        initGameData();
        loadLevel(1);
    </script>
</body>
</html>
